{"version":3,"sources":["logo.svg","App.js","reportWebVitals.js","index.js"],"names":["DAY","isInSearch","search","file","terms","split","todayFilter","findIndex","e","splice","weekFilter","monthFilter","matched","filter","term","tags","some","startsWith","customTagOk","length","dateOk","lastMutation","Date","now","MetaViewer","content","dispatch","style","display","alignItems","padding","background","map","tag","tagIndex","TagViewer","arg","margin","height","width","fontSize","fontWeight","toLocaleDateString","useState","open","setOpen","ref","useRef","useEffect","f","current","contains","target","document","body","addEventListener","removeEventListener","onClick","old","position","cursor","left","top","transform","command","ContentViewer","isImage","includes","isText","isJson","JSON","parse","color","whiteSpace","stringify","src","App","files","id","lng","speed","utcZone","countryCode","SSID","code","state","setState","setSearch","graphData","useMemo","nodes","links","forEach","push","other","continu","otherTag","source","validTag","valids","Set","add","r","delete","border","outline","backgroundColor","placeholder","value","onChange","onKeyDown","console","log","preventDefault","flexWrap","fileIndex","msg","root","copy","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1b73d08f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { useEffect, useMemo, useRef, useState } from \"react\";\nimport ForceGraph2D from \"react-force-graph-2d\";\nconst HOUR = 1000 * 60 * 60;\nconst DAY = 24 * HOUR;\nfunction initState() {\n  return {\n    files: [\n      {\n        id: 1,\n        tags: [\"image\", \"jpeg\", \"Toto\"],\n        content: `data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==`,\n        lastMutation: Date.now() - DAY,\n      },\n      {\n        id: 2,\n        tags: [\"config\", \"postgres\"],\n        content: `BINARYBLOBIBOULGA$ù*$ù$`,\n        lastMutation: Date.now() - 2 * DAY,\n      },\n      {\n        id: 3,\n        tags: [\"config\", \"keyboard\"],\n        content: JSON.stringify({ lng: \"fr\" }),\n        lastMutation: Date.now() - 2 * DAY,\n      },\n      {\n        id: 4,\n        tags: [\"config\", \"mouse\"],\n        content: JSON.stringify({ speed: 3 }),\n        lastMutation: Date.now() - 2 * DAY,\n      },\n      {\n        id: 5,\n        tags: [\"config\", \"location\"],\n        content: JSON.stringify({ utcZone: \"GMT+2\", countryCode: \"FR\" }),\n        lastMutation: Date.now() - 2 * DAY,\n      },\n      {\n        id: 6,\n        tags: [\"config\", \"wifi\"],\n        content: JSON.stringify([\n          { SSID: \"Wifi maison\", code: \"tralala\" },\n          { SSID: \"Wifi travail\", code: \"tsoin tsoin\" },\n        ]),\n        lastMutation: Date.now() - 2 * DAY,\n      },\n      {\n        id: 7,\n        tags: [\"work\", \"english\", \"essay\", \"done\"],\n        content:\n          \"Dogs are good, in this essay we will prove why. No antithesis.\",\n        lastMutation: Date.now() - 3 * DAY,\n      },\n      {\n        id: 8,\n        tags: [\"work\", \"math\", \"dm\", \"done\"],\n        content: \"1+1=11\",\n        lastMutation: Date.now() - 3 * DAY,\n      },\n      {\n        id: 9,\n        tags: [\"work\", \"english\", \"essay\", \"todo\"],\n        content:\n          \"Cats are evil, in this essay we will prove why. No antithesis.\",\n        lastMutation: Date.now() - 3 * DAY,\n      },\n      {\n        id: 10,\n        tags: [\"download\", \"video\", \"mkv\", \"Avengers\"],\n        content: \"....\",\n        lastMutation: Date.now() - 3 * DAY,\n      },\n      {\n        id: 11,\n        tags: [\"download\", \"pdf\", \"stripe-invoice\"],\n        content: \"....\",\n        lastMutation: Date.now() - 1 * DAY,\n      },\n      {\n        id: 12,\n        tags: [\"download\", \"video\", \"mkv\", \"XMen\"],\n        content: \"....\",\n        lastMutation: Date.now() - 0 * DAY,\n      },\n      {\n        id: 13,\n        tags: [\"app\", \"resources\", \"skype\", \"blob1\"],\n        content: \"....\",\n        lastMutation: Date.now() - 4 * DAY,\n      },\n      {\n        id: 14,\n        tags: [\"app\", \"resources\", \"skype\", \"blob2\"],\n        content: \"....\",\n        lastMutation: Date.now() - 5 * DAY,\n      },\n      {\n        id: 15,\n        tags: [\"app\", \"config\", \"skype\", \"user\"],\n        content: \"@thomas\\ncode\",\n        lastMutation: Date.now() - 6 * DAY,\n      },\n      {\n        id: 16,\n        tags: [\"app\", \"exe\", \"skype\"],\n        content: \"....\",\n        lastMutation: Date.now() - 0 * DAY,\n      },\n      {\n        id: 17,\n        tags: [\"app\", \"exe\", \"vs-code\"],\n        content: \"....\",\n        lastMutation: Date.now() - 8 * DAY,\n      },\n      {\n        id: 18,\n        tags: [\"app\", \"exe\", \"firefox\"],\n        content: \"....\",\n        lastMutation: Date.now() - 3 * DAY,\n      },\n    ],\n  };\n}\n\nfunction removeTag(root, fileIndex, tagIndex) {\n  root.files[fileIndex].tags.splice(tagIndex, 1);\n  return root;\n}\n\nfunction isInSearch(search, file) {\n  if (search === \"\") return true;\n\n  let terms = search.split(\" \");\n\n  let todayFilter = terms.findIndex((e) => e === \"today\");\n  if (todayFilter !== -1) {\n    terms.splice(todayFilter, 1);\n    todayFilter = true;\n  }\n\n  let weekFilter = terms.findIndex((e) => e === \"lastWeek\");\n  if (weekFilter !== -1) {\n    terms.splice(weekFilter, 1);\n    weekFilter = true;\n  }\n\n  let monthFilter = terms.findIndex((e) => e === \"lastMonth\");\n  if (monthFilter !== -1) {\n    terms.splice(monthFilter, 1);\n    monthFilter = true;\n  }\n\n  let matched = terms.filter((term) =>\n    file.tags.some((e) => e.startsWith(term))\n  );\n\n  let customTagOk = terms.length === matched.length;\n  let dateOk = true;\n  if (todayFilter === true) {\n    dateOk = dateOk && file.lastMutation > Date.now() - 1 * DAY;\n  }\n  if (weekFilter === true) {\n    dateOk = dateOk && file.lastMutation > Date.now() - 7 * DAY;\n  }\n  if (monthFilter === true) {\n    dateOk = dateOk && file.lastMutation > Date.now() - 30 * DAY;\n  }\n\n  return customTagOk && dateOk;\n}\n\nfunction App() {\n  let [state, setState] = useState(initState());\n  let [search, setSearch] = useState(\"\");\n  let graphData = useMemo(() => {\n    let nodes = [];\n    let links = [];\n\n    state.files.forEach((file) => {\n      let { id, tags, content, lastMutation } = file;\n\n      if (isInSearch(search, file)) {\n        nodes.push(file);\n\n        tags.forEach((tag) => {\n          nodes.forEach((other) => {\n            let continu = true;\n            other.tags.forEach((otherTag) => {\n              if (continu && otherTag === tag) {\n                continu = false;\n                links.push({ source: file.id, target: other.id });\n              }\n            });\n          });\n        });\n      }\n    });\n\n    return { nodes, links };\n  }, [state, search]);\n\n  let validTag = useMemo(() => {\n    let valids = new Set();\n    state.files.forEach((file) => {\n      if (isInSearch(search, file)) {\n        file.tags.forEach((tag) => {\n          valids.add(tag);\n        });\n      }\n    });\n    search.split(\" \").forEach((r) => valids.delete(r));\n\n    return [...valids];\n  }, [search, state]);\n\n  function dispatch(msg) {\n    console.log(\"dispatch \" + msg);\n    switch (msg.command) {\n      case \"deleteTag\":\n        setState((old) => {\n          let copy = { ...old };\n          removeTag(copy, msg.fileIndex, msg.tagIndex);\n          return copy;\n        });\n        break;\n    }\n  }\n\n  return (\n    <div>\n      <div style={{ display: \"flex\" }}>\n        <input\n          style={{\n            padding: \"10px\",\n            fontSize: \"1em\",\n            border: \"none\",\n            outline: \"none\",\n            backgroundColor: \"#eee\",\n            margin: \"10px\",\n          }}\n          placeholder=\"search tag\"\n          value={search}\n          onChange={(e) => setSearch(e.target.value)}\n          onKeyDown={(e) => {\n            console.log(e.code);\n            if (e.code === \"Tab\") {\n              e.preventDefault();\n              setSearch((old) => old + \" \");\n            }\n          }}\n        ></input>\n        <div\n          style={{ display: \"flex\", flexWrap: \"wrap\", alignItems: \"center\" }}\n        >\n          {validTag.map((tag) => (\n            <div\n              style={{\n                fontSize: \"0.8em\",\n                fontWeight: \"500\",\n                margin: \"0px 5px\",\n                cursor: \"pointer\",\n              }}\n              onClick={() => setSearch((old) => old + \" \" + tag)}\n            >\n              {tag}\n            </div>\n          ))}\n        </div>\n      </div>\n      <ForceGraph2D graphData={graphData} />\n      {/* GRAPHICAL */}\n      <div style={{ whiteSpace: \"pre\", display: \"flex\", flexWrap: \"wrap\" }}>\n        {state.files.map((file, fileIndex) => (\n          <div\n            style={{\n              background: \"#eee\",\n              margin: \"10px\",\n              display: isInSearch(search, file) ? \"block\" : \"none\",\n            }}\n          >\n            <MetaViewer\n              file={file}\n              fileIndex={fileIndex}\n              dispatch={(arg) => dispatch({ ...arg, fileIndex })}\n            ></MetaViewer>\n            <div style={{ padding: \"5px\" }}>\n              <ContentViewer file={file}></ContentViewer>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction MetaViewer({ file: { content, tags, lastMutation }, dispatch }) {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        padding: \"5px\",\n        background: \"#ccc\",\n      }}\n    >\n      {tags.map((tag, tagIndex) => (\n        <TagViewer\n          tag={tag}\n          dispatch={(arg) => dispatch({ ...arg, tagIndex })}\n        ></TagViewer>\n      ))}\n\n      <div\n        style={{\n          margin: \"0px 10px\",\n          height: \"32px\",\n          width: \"1px\",\n          background: \"#bbb\",\n        }}\n      ></div>\n      <div>\n        <div style={{ fontSize: \"0.8em\", fontWeight: \"500\" }}>\n          {new Date(lastMutation).toLocaleDateString()}\n        </div>\n        <div style={{ fontSize: \"0.8em\", fontWeight: \"500\" }}>\n          {content.length} bytes\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction TagViewer({ tag, dispatch }) {\n  let [open, setOpen] = useState(false);\n\n  let ref = useRef();\n  useEffect(() => {\n    let f = (e) => {\n      if (ref.current && !ref.current.contains(e.target)) {\n        setOpen(false);\n      }\n    };\n    if (open) {\n      document.body.addEventListener(\"click\", f);\n    }\n\n    return () => {\n      try {\n        document.body.removeEventListener(\"click\", f);\n      } catch {}\n    };\n  }, [open]);\n\n  return (\n    <div\n      onClick={() => setOpen((old) => !old)}\n      style={{\n        padding: \"3px\",\n        fontSize: \"0.8em\",\n        fontWeight: \"500\",\n        position: \"relative\",\n        cursor: \"pointer\",\n      }}\n    >\n      {tag}\n\n      <div\n        ref={ref}\n        style={{\n          display: open ? \"flex\" : \"none\",\n          position: \"absolute\",\n          left: \"0px\",\n          top: \"0px\",\n          transform: \"translate(50%,-100%)\",\n\n          cursor: \"pointer\",\n        }}\n      >\n        <div\n          style={{ background: \"red\", padding: \"5px\" }}\n          onClick={() => dispatch({ command: \"deleteTag\" })}\n        >\n          x\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ContentViewer({ file: { content, tags, lastMutation } }) {\n  let isImage = tags.includes(\"image\");\n\n  let isText = !isImage && tags.includes(\"config\");\n\n  let isJson = false;\n\n  try {\n    if (isText) {\n      let r = JSON.parse(content);\n      isJson = true;\n    }\n  } catch {}\n\n  if (isJson)\n    return (\n      <div style={{ color: \"#444\", whiteSpace: \"pre\" }}>\n        {JSON.stringify(JSON.parse(content), null, 1)}\n      </div>\n    );\n  if (isImage) return <img src={content} style={{ height: \"50px\" }}></img>;\n\n  return <div style={{ color: \"#444\" }}>{content}</div>;\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}